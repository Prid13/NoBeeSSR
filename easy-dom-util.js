var EasyDom=function(e){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n=[];function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;n.push(e),"function"==typeof t&&(t(l),l())}function l(){n.pop()}function a(){return 0===n.length?"":n[n.length-1]}function u(e,t){return 1<arguments.length&&void 0!==t&&!t?e:a()+e}function s(e,t,n){t=1<arguments.length&&void 0!==t?t:1,n=2<arguments.length&&void 0!==n?n:1;return-1===".#[]".indexOf(e[e.length-1])&&(n=0),e.substring(t,e.length-n)}function c(e){var t=e.html,n=e.method,r=void 0===n?{}:n,n=e.result,i=(this.html(t.replace(new RegExp("\\n *","g"),"").replace(new RegExp("\x3c!--(.|\\n)*?--\x3e","g"),"").trim()),{});if("function"==typeof n){var o=this.query("[\\@el]");if(o){for(var l=0;l<o.length;l++){var a=o[l];(i[a.attr("@el")]=a).attr("@el",null)}n.call({el:this,method:r},i)}}for(var u=this.query("[\\@event]"),s=0;s<u.length;s++){var c,h=u[s],f=function(e){var t=e.attr("@event").split(":"),e=(e.attr("@event",null),"click"),n=[];t=1===t.length?t[0]:(e=t[0],t[1]);{var r;-1!==t.indexOf("(")&&(null!==(r=t.match(/\(.*\)/))&&(r=r[0].replace(/'/g,'"'),r="[".concat(r.substr(1,r.length-2),"]"),n=JSON.parse(r)),t=t.substr(0,t.indexOf("(")))}return{event:e,name:t,args:n}}(h);r[f.name]&&h.on(f.event,(c=r[f.name]).bind.apply(c,[{el:this,bindEl:i,self:h,method:r}].concat(d(f.args))))}return this}var h=function(){function r(e){var t,n=e.tag,e=e.ele;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");e?this.el=e:(t={tag:e=n},null!==e.match(/[#\.\[]/)&&(-1!==e.indexOf("[")&&(t.attr={},e=e.replace(/(\[)(\S*?)(\])/g,function(e){e=s(e).split("=");return t.attr[e[0]]=e[1]||"",""})),t.tag=s(e.match(/^(\S*?)(#|\.|\[)/g)[0],0),-1!==e.indexOf("#")&&(t.id=s(e.match(/(#)(\S*?)(\.|\[|$)/g)[0])),-1!==e.indexOf(".")&&(t.cls=s(e.match(/(\.)(\S*?)(#|\[|$)/g)[0]).split(".").join(" ").trim())),n=t,this.el=document.createElement(n.tag),n.cls&&this.cls(n.cls),n.attr&&this.attr(n.attr),n.id&&this.id(n.id))}var e,t,n;return e=r,(t=[{key:"dom",value:function(){return this.el}},{key:"cls",value:function(e){return void 0===e?this.el.className:((!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&""!==a()?this.el.className=e.split(" ").map(function(e){return u(e)}).join(" "):this.el.className=e,this)}},{key:"id",value:function(e){return void 0===e?this.attr("id"):this.attr("id",e)}},{key:"attr",value:function(e,t){if("object"===o(e))for(var n in e)this.el.setAttribute(n,e[n]);else{if(void 0===t)return this.el.getAttribute(e)||"";null===t?this.el.removeAttribute(e):this.el.setAttribute(e,t+"")}return this}},{key:"hasAttr",value:function(e){return this.el.hasAttribute(e)}},{key:"rmAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"style",value:function(e,t){var n,r,i=this;if(void 0===t){if(e instanceof Array)return n={},e.forEach(function(e){n[e]=i.style(e)}),n;if("object"!==o(e))return getComputedStyle(this.el)[e];for(r in e)this.style(r,e[r])}else-1!==t.indexOf("!important")?this.el.style.setProperty(e,v(this.el,e,t.substring(0,t.indexOf("!important"))),"important"):this.el.style.setProperty(e,v(this.el,e,t));return this}},{key:"text",value:function(e){return void 0===e?this.el.innerText:(this.el.innerText=e+"",this)}},{key:"value",value:function(e){return void 0===e?this.el.value:(this.el.value=e,this)}},{key:"html",value:function(e){return void 0===e?this.el.innerHTML:(this.el.innerHTML=e+"",this)}},{key:"click",value:function(e,t){return this.on("click",e,t)}},{key:"on",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("object"===o(e))for(var i in e)this.on(i,e[i],t);else{if("function"!=typeof t)throw new Error("事件类型应该为 function");this.el.addEventListener(e,function(e){t.call(n,e,n)},r)}return this}},{key:"addClass",value:function(e){return e=u(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1]),this.hasClass(e)||(""===this.el.className?this.el.className=e:this.el.className+=" ".concat(e)),this}},{key:"hasClass",value:function(e){return f(e=u(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])).test(this.el.className)}},{key:"rmClass",value:function(e){return e=u(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1]),this.hasClass(e)&&(this.el.className=this.el.className.replace(f(e)," ").trim()),this}},{key:"replaceClass",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return e=u(e,n),t=u(t,n),this.hasClass(e)?this.el.className=this.el.className.replace(f(e)," ".concat(t," ")).trim():this.addClass(t),this}},{key:"toggleClass",value:function(e){return this.hasClass(e)?this.rmClass(e):this.addClass(e)}},{key:"append",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){e instanceof Array?e.forEach(function(e){t.appendSingle(e)}):t.appendSingle(e)}),this}},{key:"appendSingle",value:function(e){var t=this;if(null!==e){var n=p(e);try{this.el.appendChild(n)}catch(e){return console.warn(e),this}"function"==typeof n.__ed_mounted&&setTimeout(function(){var e;"function"==typeof n.__ed_mounted&&(e=m(n),n.__ed_mounted.call(e,e,t)),n.__ed_mounted=null})}return this}},{key:"name",value:function(e){return void 0===e?this.attr("el-name"):this.attr("el-name",e)}},{key:"insert",value:function(e){for(var n=this,t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r[0]instanceof Array&&(r=r[0]);var o=this.child(e);return r.forEach(function(e){var t=p(e);if(!t)throw console.error(e),new Error("Dom is not exist: ".concat(e.toString()));n.el.insertBefore(t,o.el)}),this}},{key:"prepend",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.insert.apply(this,[0].concat(t))}},{key:"before",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.parent()).insert.apply(e,[this.index()].concat(n))}},{key:"after",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.parent()).insert.apply(e,[this.index()+1].concat(n))}},{key:"remove",value:function(e){if(void 0===e)try{this.parent().remove(this)}catch(e){}else"number"==typeof e?this.el.removeChild(this.el.children[e]):this.el.removeChild(e.dom());return this}},{key:"empty",value:function(){return this.html("")}},{key:"parent",value:function(e){if("number"==typeof e){if(e<1)return this;for(var t=this,n=0;n<e;n++)if(!(t=t.parent()))throw new Error("parent ".concat(n," is not exist"));return t}if(this.el.parentElement)return new r({ele:this.el.parentElement});throw new Error("parent is not exist")}},{key:"data",value:function(e,t){var n=this.el,n=(void 0===n._ed_data&&(n._ed_data={}),n._ed_data);if(void 0===e)return n;if("object"===o(e))if(null===e)n={};else for(var r in e)this.data(r,e[r]);else if(null===t)delete n[e];else{if(void 0===t)return n[e];n[e]=t}return this}},{key:"index",value:function(){for(var e=this.parent().child(),t=0;t<e.length;t++)if(e[t].el===this.el)return t;return-1}},{key:"next",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.parent().child(this.index()+e)}},{key:"prev",value:function(){return this.next(-(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1))}},{key:"child",value:function(e){if("number"!=typeof e)return"string"==typeof e?this.query('[el-name="'.concat(e,'"]'),!0):b(this.el.children);if(e>=this.el.children.length||e<0)throw new Error("index is over limit");return new r({ele:this.el.children[e]})}},{key:"brother",value:function(e){return"number"==typeof e?this.parent().child(e):this.parent().child()}},{key:"created",value:function(e){return e.call(this,this),this}},{key:"mounted",value:function(e){return this.el.__ed_mounted=e,this}},{key:"src",value:function(e){return void 0===e?this.dom().src:(this.dom().src=e,this)}},{key:"render",value:function(){return c.call(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"query",value:function(e){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]){var t=this.el.querySelector(e);if(t)return m(t);throw new Error("Element is not exist"+e)}for(var n=this.el.querySelectorAll(e),r=[],i=0;i<n.length;i++)r.push(m(n[i]));return r}},{key:"hide",value:function(){return this.style("display","none")}},{key:"show",value:function(){return this.style("display",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"block")}},{key:"setVisible",value:function(){return!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this.show(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"block"):this.hide()}},{key:"mount",value:function(){return m(0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body).append(this),this}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}();function f(e){return new RegExp("(^| )".concat(e,"($| )"))}function v(e,t,n){var r;return"string"!=typeof n||-1===n.indexOf("-=")&&-1===n.indexOf("+=")?n:(r=y(n.substring(n.indexOf("=")+1)),-1!==n.indexOf("-=")&&(r[0]=-r[0]),n=-1!==n.indexOf("%")?y(e.style[t]):y(getComputedStyle(e)[t]),r[0]+n[0]+r[1])}function y(e,t){if(e=e||"0%",void 0===t)if(e.includes("px"))t="px";else if(e.includes("%"))t="%";else{if(!e.includes("em"))return[parseFloat(e),"px"];t="em"}return[parseFloat(e.substring(0,e.indexOf(t))),t]}function p(e){return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):e.el}function m(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e instanceof h)return e;if(e instanceof HTMLElement)return new h({ele:e});if("object"===o(e))return e;if(!0===t)return b(document.querySelectorAll(e));t=document.querySelector(e);if(t)return new h({ele:t});throw console.error(t),new Error("Element is not exist")}function g(e){return!!document.querySelector(e)}function w(){return new h({tag:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div"})}function b(e){return[].slice.apply(e).map(function(e){return new h({ele:e})})}var k={},x={};function S(e,t){if("object"===o(e))for(var n in e)S(n,e[n]);else void 0===k[e]?k[e]=t:console.warn("addCommonStyle 存在重名变量：".concat(e))}function E(){for(var e in x)A({func:x[e],id:e});x={}}function A(e){var t=e.func,n=e.id,n=void 0===n?"el-style":n,e=e.pool,e=void 0!==e&&e;if("function"!=typeof t||!t.__hasReport){t=("string"==typeof(t=t)?t:(t.__hasReport=!0,t(k))).replace(new RegExp("\\n *","g"),"").replace(new RegExp(" *\\{","g"),"{").replace(new RegExp("\\/\\*(.|\\n)*?\\*\\/","g"),"").trim();if(e)return x[n]||(x[n]=""),void(x[n]+=t);var r,e="#".concat(n);R.exist(e)?r=R.query(e):(r=R.create("style").id(n),R.query(document.head).append(r)),r.html(r.html()+t)}}function _(){}function C(e){var t,n=e.el,r=e.touchStart,i=void 0===r?_:r,r=e.touchMove,o=void 0===r?_:r,r=e.touchEnd,l=void 0===r?_:r;/Android|iPad|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?R.query(n).on({touchstart:i,touchmove:o,touchend:l}):(t=!1,R.query(n).on({mousedown:function(e){t=!0,i(O(e,"touchstart"))}}),R.query(document.body).on({mousemove:function(e){e.preventDefault(),t&&o(O(e,"touchmove"))},mouseup:function(e){t&&(t=!1,l(O(e,"touchend")))}}))}function O(e,t){var n=[{clientX:e.clientX,clientY:e.clientY,force:1,identifier:0,pageX:e.pageX,pageY:e.pageY,radiusX:11.5,radiusY:11.5,rotationAngle:0,screenX:e.screenX,screenY:e.screenY,target:e.target}];return e.touchType=t,e.touches="touchend"===t?[]:n,e.changedTouches=n,e}var q="0.1.2",j=null;function P(){return j?{width:j.width,height:j.height}:!0===(0<arguments.length&&void 0!==arguments[0]&&arguments[0])||!1!==M()?N():{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}function T(e){j=e}function N(){return{width:window.innerWidth,height:window.innerHeight}}function M(){for(var e=navigator.userAgent.toLowerCase(),t=["android","iphone","symbianos","windows phone","ipad","ipod"],n=0;n<t.length;n++)if(0<e.indexOf(t[n]))return"iphone"===t[n]?"ios":t[n];return!1}var R={query:m,exist:g,create:w,classPrefix:t,clearClassPrefix:l,checkDom:p,reportStyle:A,addCommonStyle:S,initStylePool:E,registTouchEvent:C,windowSize:P,isMobile:M,version:q,setWindowSize:T};return e.Ele=h,e.addCommonStyle=S,e.checkDom=p,e.classPrefix=t,e.clearClassPrefix=l,e.create=w,e.default=R,e.exist=g,e.initStylePool=E,e.isMobile=M,e.query=m,e.registTouchEvent=C,e.reportStyle=A,e.setWindowSize=T,e.version=q,e.windowSize=P,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
